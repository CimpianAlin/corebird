{
  "app-id": "org.baedert.corebird",
  "branch": "next",
  "runtime": "org.gnome.Platform",
  "runtime-version": "master",
  "sdk" : "org.gnome.Sdk",
  "strip" : false,
  "command" : "corebird",
  "rename-icon" : "corebird",
  "copy-icon" : true,
  "tags" : ["next"],
  "desktop-file-name-prefix": "(Next)",
  "finish-args" : [
    "--share=ipc",
    "--share=network",
    "--socket=wayland",
    "--socket=pulseaudio",
    "--filesystem=host",
    "--talk-name=ca.desrt.dconf",
    "--env=DCONF_USER_CONFIG_DIR=.config/dconf"
  ],
  "build-options" : {
    "cflags" : "-O0 -g"
  },
  "cleanup" : [
    "/include", "/share/gir-1.0",
    "/lib/pkgconfig", "/lib/girepository-1.0"
  ],
  "modules" : [
    {
      "name" : "librest",
      "sources" : [
        {
          "type"   : "git",
          "url"    : "git://git.gnome.org/librest.git",
          "branch" : "librest-0-7"
        }
      ]
    },
    {
      "name"   : "graphene",
      "sources" : [
        {
          "type"   : "git",
          "url"    : "https://github.com/ebassi/graphene",
          "branch" : "master"
        }
      ]
    },
    {
      "name" : "gtk+",
      "config-opts" : ["--disable-cloudprint", "--disable-broadway-backend", "--disable-modules", "--enable-wayland-backend", "--enable-x11-backend", "--disable-man"],
      "sources" : [
        {
          "type"   : "git",
          "url"    : "git://git.gnome.org/gtk+.git",
          "branch" : "master"
        }
      ]
    },
    {
      "name" : "gspell",
      "sources" : [
        {
          "type"   : "git",
          "url"    : "git://git.gnome.org/gspell.git",
          "branch" : "wip/gtk4"
        }
      ]
    },
    {
      "name" : "vala",
      "sources" : [
        {
          "type"   : "git",
          "url"    : "git://git.gnome.org/vala.git",
          "branch" : "master"
        }
      ]
    },
    {
      "name" : "gst-plugins-bad",
      "config-opts" : ["--disable-examples", "--with-gtk=4.0", "--disable-qt", "--disable-rsvg", "--disable-wininet", "--disable-camerabin2", "--disable-android_media", "--disable-bluez", "--disable-directsound", "--disable-audiovisualizers", "--disable-frei0r"],
      "sources" : [
        {
          "type"   : "git",
          "url"    : "git://anongit.freedesktop.org/gstreamer/gst-plugins-bad",
          "branch" : "1.8"
        },
        {
          "type"   : "patch",
          "path"   : "0001-Add-gtk4sink.patch"
        }
      ]
    },
    {
      "name" : "gst-libav",
      "config-opts" : ["--with-libav-extra-configure='--disable-yasm'"],
      "sources" : [
        {
          "type"   : "git",
          "url"    : "git://anongit.freedesktop.org/gstreamer/gst-libav",
          "branch" : "1.8"
        }
      ]
    },
    {
      "name" : "corebird",
      "config-opts" : ["--enable-debug"],
      "sources" : [
        {
          "type"   : "git",
          "url"    : "https://github.com/baedert/corebird",
          "branch" : "next"
        }
      ]
    }
  ]
}
